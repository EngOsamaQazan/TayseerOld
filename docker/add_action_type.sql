-- إضافة عمود نوع الإجراء
ALTER TABLE os_judiciary_actions
ADD COLUMN action_type ENUM('request','court_letter','judge_decision','party_petition')
NOT NULL DEFAULT 'request'
AFTER name;

-- تصنيف الإجراءات الحالية

-- ═══════════════════════════════════════
-- كتاب صادر عن المحكمة / دائرة التنفيذ
-- ═══════════════════════════════════════
UPDATE os_judiciary_actions SET action_type = 'court_letter' WHERE id IN (
    5,   -- اخطار صادر عن دائرة التنفيذ
    9,   -- مذكرة إحضار
    10,  -- معمم لدى ادارة التنفيذ القضائي
    12,  -- مذكرة منع سفر
    22,  -- كتاب حسم من الراتب
    27,  -- كتاب وضع اشارة الحجز على مركبة
    28,  -- كتاب ضبط مركبة
    42,  -- كتاب كف الطلب عن مركبه
    43,  -- كتاب رفع اشارة حجز عن مركبه
    47,  -- اسناد الاخطار التنفيذي
    48,  -- أمر حبس لعدم الدفع
    49,  -- مذكرة إفراج للموقوفين
    50,  -- مذكرة رفع اشارة منع سفر
    51,  -- مذكرة تبليغ موعد جلسة تنفيذية
    52,  -- إخطار كفيل إستئناف صادر عن دائرة التنفيذ
    54,  -- كتاب رفع اشارة الحسم عن الراتب
    56,  -- كتاب استفسار لعدم ورود اقتطاع
    59,  -- كتاب إلقاء الحجز على أموال لدى البنوك
    63,  -- كتاب حجز على المكافئه
    64,  -- اخطار خاص بتجديد التنفيذ
    71,  -- اعلان بيع مركبه بالمزاد العلني
    72,  -- كتاب القاء الحجز على الاموال المنقوله وغير المنقوله
    76,  -- كتاب إخطار بالحجز على أموال / مستحقات المدين
    77,  -- اخطار كفيل استئناف صادر عن دائرة التنفيذ
    78,  -- كتاب كف الطلب عن شخص
    79,  -- مذكرة رفع اشارة منع سفر
    86,  -- كتاب القاء الحجز ع الاموال لدى البنوك
    90,  -- كتاب مخاطبة رسمية - جهات حكومية
    2    -- امر قبض
);

-- ═══════════════════════════════════════
-- قرار قاضي التنفيذ
-- ═══════════════════════════════════════
UPDATE os_judiciary_actions SET action_type = 'judge_decision' WHERE id IN (
    13,  -- جاري الحسم
    25,  -- عدم ورود اقتطاعات
    29,  -- انكار توقيع
    30,  -- ابطال التبليغات
    31,  -- ابطال سند
    32,  -- مدفوع
    33,  -- اسقاط الدعوى
    34,  -- محبوس على ذمة قضايا اخرى
    35,  -- نُفِّذت حبسا
    36,  -- نقل تلقائي
    40,  -- منتهي
    41,  -- متوفي
    65,  -- قضية متروكه
    66,  -- حجز حصة شريك
    82,  -- حجز مكافأة نهايه الخدمه
    85,  -- حجز منشاه
    88,  -- الراتب لا يسمح
    15,  -- اسقاط الدعوى
    19,  -- مصالحة
    21   -- تسوية محكمة
);

-- ═══════════════════════════════════════
-- استدعاء مقدم من أحد الأطراف (دائن أو مدين)
-- ═══════════════════════════════════════
UPDATE os_judiciary_actions SET action_type = 'party_petition' WHERE id IN (
    11,  -- كف طلب صادر عن المحكوم عليه
    14   -- استئناف
);

-- ═══════════════════════════════════════
-- طلب إجرائي (الباقي يبقى request وهو الافتراضي)
-- يشمل: تجهيز قضيه، دفع الرسم، تسجيل قضيه، إعادة تبيلغ،
-- طلب حبس وجلب، طلب حسم راتب، طباعة مذكرة، نشر،
-- تبليغ اخبار حبس، طلب نشر، ط.حجز مركبة، تحريك قضية،
-- مثابره بعد الاستئناف، طلب اعادة تبليغ، طلب ضبط مركبة،
-- طلب حسم من الراتب، طلب حجز مركبه، مثابره بعد الحبس،
-- طلب رد المبالغ، طلب رفع اشارة منع سفر، طلب كف طلب،
-- طلب حجز الاموال المنقوله، مثابره على التنفيذ، طلب حجز على المكافئة،
-- اخطار في مكان العمل، تبليغ الكتروني، طلب بيع بالمزاد العلني،
-- طلب تخمين المركبه، طلب حجز حساب بنكي، طلب حجز راتب،
-- طلب ادخال طرف بالقضيه، طلب اشراك اقتطاع، طلب حجز منشاه،
-- تجديد دعوى، طلب رفع حسم، اخطار في مكان العمل
-- ═══════════════════════════════════════
-- (هؤلاء يبقون بقيمة 'request' الافتراضية)
