/* ════════════════════════════════════════════════════════════
   كشف حساب عميل — Premium FinTech Statement
   v3.0 — Final Production Build
   ════════════════════════════════════════════════════════════ */

@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@300;400;500;600;700&family=Inter:wght@400;500;600;700;800&display=swap');

/* ─────────────────────────────
   Design Tokens
   ───────────────────────────── */
.fs {
  --c-primary:      #7A000C;
  --c-primary-dark: #4A0006;
  --c-primary-soft: #fdf2f3;

  --c-success:      #0F7B3D;
  --c-success-soft: #eefbf3;
  --c-danger:       #B42318;
  --c-danger-soft:  #fef3f2;

  --c-text:         #1a1d21;
  --c-text-2:       #525866;
  --c-text-3:       #868c98;
  --c-text-4:       #b0b5bf;

  --c-bg:           #F7F7F8;
  --c-surface:      #ffffff;
  --c-border:       #e4e5e7;
  --c-border-light: #f0f0f1;

  --font-ar: 'IBM Plex Sans Arabic', 'Segoe UI', Tahoma, sans-serif;
  --font-en: 'Inter', 'Segoe UI', sans-serif;

  --radius:    16px;
  --radius-sm: 10px;
  --radius-xs: 6px;

  --shadow:    0 1px 3px rgba(0,0,0,0.06);
  --shadow-md: 0 2px 8px rgba(0,0,0,0.07);

  font-family: var(--font-ar);
  direction: rtl;
  text-align: right;
  color: var(--c-text);
  max-width: 920px;
  margin: 0 auto;
  padding: 32px 20px;
  background: var(--c-bg);
  line-height: 1.65;
  -webkit-font-smoothing: antialiased;
}

/* Override AdminLTE layout for print/statement pages */
.layout-print .content-wrapper {
  margin-left: 0 !important;
  margin-right: 0 !important;
}
.layout-print .content-header {
  display: none !important;
}
.layout-print .content {
  padding: 8px !important;
}
.layout-print .main-footer {
  margin-left: 0 !important;
}

/* English numerals helper — inline contexts */
.fs .en {
  font-family: var(--font-en), var(--font-ar);
  font-variant-numeric: tabular-nums;
  unicode-bidi: isolate;
  direction: ltr;
  letter-spacing: 0.01em;
}
.fs span.en,
.fs a.en,
.fs strong.en {
  display: inline-block;
}
/* Table cells: keep table-cell display, only override font */
.fs td.en {
  font-family: var(--font-en), var(--font-ar);
  font-variant-numeric: tabular-nums;
  direction: ltr;
  unicode-bidi: isolate;
}
/* backward compat */
.fs .jadal-en-num { font-family: var(--font-en), var(--font-ar); font-variant-numeric: tabular-nums; direction: ltr; unicode-bidi: isolate; }


/* ══════════════════════════════════════════════════════
   1) EXECUTIVE HEADER
   ══════════════════════════════════════════════════════ */
.fs-header {
  background: linear-gradient(135deg, #7A000C 0%, #5C0008 50%, #4A0006 100%);
  border-radius: var(--radius);
  overflow: hidden;
  margin-bottom: 24px;
  box-shadow: var(--shadow-md);
  position: relative;
}

.fs-header::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at 15% 25%, rgba(255,255,255,0.07) 0%, transparent 55%);
  pointer-events: none;
}

/* Row 1: Brand + Badge */
.fs-header__row {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  padding: 24px 28px 14px;
  position: relative;
  z-index: 1;
  gap: 16px;
  flex-wrap: wrap;
}

.fs-header__brand {
  display: flex;
  align-items: center;
  gap: 14px;
}

.fs-header__logo {
  width: 42px;
  height: 42px;
  flex-shrink: 0;
}
.fs-header__logo svg { width: 100%; height: 100%; }

.fs-header__company {
  font-size: 20px;
  font-weight: 700;
  color: #fff;
  margin: 0;
  letter-spacing: 0.3px;
}

.fs-header__subtitle {
  font-size: 14px;
  font-weight: 400;
  color: rgba(255,255,255,0.75);
  margin: 3px 0 0;
}

/* Risk Badge — matches OCP panel */
.fs-risk-badge {
  display: inline-flex;
  align-items: center;
  gap: 7px;
  padding: 7px 18px;
  border-radius: 50px;
  font-size: 14px;
  font-weight: 700;
  letter-spacing: 0.3px;
  white-space: nowrap;
  border: 1.5px solid;
}
.fs-risk-badge__dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: currentColor;
  animation: fs-pulse 2s infinite;
}
@keyframes fs-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}
.fs-risk-badge--low {
  background: rgba(13,159,110,0.12);
  border-color: #0D9F6E;
  color: #0D9F6E;
}
.fs-risk-badge--med {
  background: rgba(230,126,34,0.12);
  border-color: #E67E22;
  color: #E67E22;
}
.fs-risk-badge--high {
  background: rgba(220,38,38,0.12);
  border-color: #DC2626;
  color: #DC2626;
}
.fs-risk-badge--critical {
  background: rgba(127,29,29,0.15);
  border-color: #7F1D1D;
  color: #7F1D1D;
}
.fs-risk-badge--critical .fs-risk-badge__dot {
  animation: fs-pulse-fast 1s infinite;
}
@keyframes fs-pulse-fast {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}

/* Row 2: Meta */
.fs-header__meta-row {
  display: flex;
  align-items: center;
  gap: 20px;
  padding: 0 28px 16px;
  position: relative;
  z-index: 1;
}

.fs-header__meta-item {
  display: flex;
  align-items: baseline;
  gap: 6px;
}

.fs-header__meta-label {
  font-size: 12px;
  color: rgba(255,255,255,0.50);
}

.fs-header__meta-value {
  font-size: 14px;
  font-weight: 600;
  color: #fff;
}

.fs-header__meta-dot {
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: rgba(255,255,255,0.3);
  flex-shrink: 0;
}

/* Row 3: Verify strip */
.fs-header__verify-strip {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 12px 28px;
  background: rgba(0,0,0,0.18);
  border-top: 1px solid rgba(255,255,255,0.06);
  position: relative;
  z-index: 1;
}

.fs-header__qr-box {
  width: 52px;
  height: 52px;
  background: #fff;
  border-radius: 6px;
  padding: 3px;
  flex-shrink: 0;
  border: 1px solid rgba(255,255,255,0.15);
}
.fs-header__qr-box img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: contain;
  border-radius: 3px;
}

.fs-header__verify-hint {
  font-size: 11px;
  color: rgba(255,255,255,0.45);
}

.fs-header__verify-code {
  font-size: 18px;
  font-weight: 700;
  color: rgba(255,255,255,0.95);
  letter-spacing: 3px;
  font-family: 'Courier New', Courier, monospace;
}

.fs-header__verify-info {
  display: flex;
  flex-direction: column;
  gap: 1px;
}


/* ══════════════════════════════════════════════════════
   2) FINANCIAL SUMMARY CARDS
   ══════════════════════════════════════════════════════ */
.fs-cards {
  margin-bottom: 24px;
}

.fs-cards__grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
  margin-bottom: 16px;
}

.fs-card {
  background: var(--c-surface);
  border-radius: var(--radius);
  padding: 22px 20px;
  border: 1px solid var(--c-border);
  box-shadow: var(--shadow);
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

/* Top accent line */
.fs-card::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 3px;
}
.fs-card--neutral::before  { background: var(--c-primary); }
.fs-card--success::before  { background: var(--c-success); }
.fs-card--danger::before   { background: var(--c-danger); }

.fs-card__label {
  font-size: 12.5px;
  font-weight: 500;
  color: var(--c-text-3);
}

.fs-card__amount {
  font-size: 28px;
  font-weight: 800;
  line-height: 1.1;
  color: var(--c-text);
}
.fs-card--success .fs-card__amount { color: var(--c-success); }
.fs-card--danger  .fs-card__amount { color: var(--c-danger); }

.fs-card__currency {
  font-size: 12px;
  color: var(--c-text-4);
  margin-top: -2px;
}

/* ── Progress Card ── */
.fs-progress-card {
  background: var(--c-surface);
  border-radius: var(--radius);
  padding: 20px 24px;
  border: 1px solid var(--c-border);
  box-shadow: var(--shadow);
}

.fs-progress-card__top {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  margin-bottom: 12px;
}

.fs-progress-card__label {
  font-size: 13px;
  font-weight: 500;
  color: var(--c-text-3);
}

.fs-progress-card__percent {
  font-size: 26px;
  font-weight: 800;
  color: var(--c-text);
}

.fs-progress-card__bar {
  width: 100%;
  height: 10px;
  background: #edeef0;
  border-radius: 50px;
  overflow: hidden;
  margin-bottom: 10px;
}

.fs-progress-card__fill {
  height: 100%;
  border-radius: 50px;
  background: linear-gradient(90deg, var(--c-primary) 0%, var(--c-success) 100%);
  transition: width 0.8s ease-out;
}

.fs-progress-card__text {
  font-size: 13px;
  color: var(--c-text-2);
  margin: 0;
}
.fs-progress-card__text strong {
  font-weight: 700;
  color: var(--c-text);
}


/* ══════════════════════════════════════════════════════
   3) SECTIONS — Generic
   ══════════════════════════════════════════════════════ */
.fs-section {
  background: var(--c-surface);
  border-radius: var(--radius);
  padding: 24px 28px;
  margin-bottom: 24px;
  border: 1px solid var(--c-border);
  box-shadow: var(--shadow);
}

.fs-section__title {
  font-size: 15px;
  font-weight: 700;
  color: var(--c-primary);
  margin: 0 0 20px;
  padding-bottom: 10px;
  border-bottom: 1.5px solid var(--c-primary-soft);
}


/* ══════════════════════════════════════════════════════
   3) CONTRACT INFORMATION
   ══════════════════════════════════════════════════════ */
.fs-info {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
}

.fs-info__group-title {
  font-size: 12.5px;
  font-weight: 600;
  color: var(--c-text-3);
  margin: 0 0 12px;
  text-transform: none;
  letter-spacing: 0.3px;
}

.fs-info__row {
  display: flex;
  flex-direction: column;
  gap: 3px;
  padding: 10px 14px;
  border-radius: var(--radius-xs);
  background: var(--c-bg);
  margin-bottom: 8px;
}

.fs-info__row:last-child {
  margin-bottom: 0;
}

.fs-info__label {
  font-size: 11.5px;
  font-weight: 400;
  color: var(--c-text-3);
}

.fs-info__value {
  font-size: 14px;
  font-weight: 600;
  color: var(--c-text);
}


/* ══════════════════════════════════════════════════════
   4) FINANCIAL MOVEMENTS TABLE
   ══════════════════════════════════════════════════════ */
.fs-table-wrap {
  border-radius: var(--radius-sm);
  border: 1px solid var(--c-border);
  overflow: hidden;
}

.fs-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}

/* Header */
.fs-table__th {
  background: var(--c-primary);
  color: #fff;
  font-weight: 600;
  font-size: 12px;
  padding: 13px 14px;
  text-align: right;
  white-space: nowrap;
  position: sticky;
  top: 0;
  z-index: 5;
}
.fs-table__th--num     { width: 36px; text-align: center; }
.fs-table__th--date    { width: 100px; }
.fs-table__th--desc    { /* auto — widest */ }
.fs-table__th--money   { width: 110px; }
.fs-table__th--balance { width: 120px; }

/* Cells */
.fs-table__td {
  padding: 14px 14px;
  border-bottom: 1px solid var(--c-border-light);
  vertical-align: middle;
  font-size: 13px;
}

/* Zebra rows — very subtle */
.fs-table__row:nth-child(even) .fs-table__td {
  background: rgba(0,0,0,0.015);
}

/* Hover */
.fs-table__row:hover .fs-table__td {
  background: rgba(122, 0, 12, 0.025);
}

.fs-table__td--num {
  text-align: center;
  color: var(--c-text-4);
  font-size: 12px;
  font-weight: 500;
}

.fs-table__td--date {
  white-space: nowrap;
  color: var(--c-text-2);
}

.fs-table__td--desc {
  color: var(--c-text);
  font-weight: 500;
}

.fs-table__note {
  font-size: 11px;
  color: var(--c-text-3);
  font-weight: 400;
}

.fs-table__td--debit {
  color: #B42318;
  font-weight: 600;
  text-align: right;
}

.fs-table__td--credit {
  color: #0F7B3D;
  font-weight: 600;
  text-align: right;
}

.fs-table__td--balance {
  font-weight: 700;
  font-size: 13.5px;
  color: var(--c-text);
  text-align: right;
}

.fs-table__row:last-child .fs-table__td {
  border-bottom: none;
}

/* ── Table Summary Card (below table) ── */
.fs-table-summary {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 32px;
  margin-top: 16px;
  padding: 16px 20px;
  background: var(--c-bg);
  border-radius: var(--radius-sm);
  border-top: 2px solid var(--c-primary-soft);
}

.fs-table-summary__item {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 2px;
}

.fs-table-summary__item--final {
  padding-right: 32px;
  border-right: 1px solid var(--c-border);
}

.fs-table-summary__label {
  font-size: 11px;
  color: var(--c-text-3);
  font-weight: 400;
}

.fs-table-summary__value {
  font-size: 16px;
  font-weight: 700;
  color: var(--c-text);
}
.fs-table-summary__value--debit  { color: #B42318; }
.fs-table-summary__value--credit { color: #0F7B3D; }
.fs-table-summary__value--final  { font-size: 18px; font-weight: 800; }


/* ══════════════════════════════════════════════════════
   5) VERIFICATION
   ══════════════════════════════════════════════════════ */
.fs-verify {
  display: flex;
  align-items: flex-start;
  gap: 24px;
  margin-bottom: 14px;
}

.fs-verify__main {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.fs-verify__code-block {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.fs-verify__code-label {
  font-size: 12px;
  color: var(--c-text-3);
}

.fs-verify__code-value {
  font-size: 24px;
  font-weight: 700;
  color: var(--c-primary);
  letter-spacing: 4px;
  font-family: 'Courier New', Courier, monospace;
  user-select: all;
  cursor: text;
}

.fs-verify__link-block {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.fs-verify__link-label {
  font-size: 12px;
  color: var(--c-text-3);
}

.fs-verify__link {
  font-size: 11.5px;
  color: var(--c-primary);
  word-break: break-all;
  text-decoration: none;
  padding: 8px 12px;
  background: var(--c-primary-soft);
  border-radius: var(--radius-xs);
  border: 1px dashed #e8c0c6;
  user-select: all;
  transition: background 0.15s;
}
.fs-verify__link:hover {
  background: #f9e0e3;
  text-decoration: underline;
}

.fs-verify__qr {
  width: 120px;
  height: 120px;
  background: #fff;
  border-radius: var(--radius-sm);
  padding: 6px;
  flex-shrink: 0;
  border: 1px solid var(--c-border);
}
.fs-verify__qr img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.fs-verify__stamp {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  font-weight: 600;
  color: var(--c-success);
  background: var(--c-success-soft);
  padding: 10px 16px;
  border-radius: var(--radius-xs);
  border: 1px solid #c3e7d2;
}
.fs-verify__stamp svg {
  color: var(--c-success);
  flex-shrink: 0;
}


/* ══════════════════════════════════════════════════════
   6) FOOTER
   ══════════════════════════════════════════════════════ */
.fs-footer {
  background: #f0f0f1;
  border-radius: var(--radius);
  padding: 20px 28px;
  margin-top: 4px;
}

.fs-footer__top {
  font-size: 14px;
  color: var(--c-primary);
  margin-bottom: 10px;
  display: flex;
  align-items: center;
  gap: 8px;
}
.fs-footer__top strong { font-weight: 700; }
.fs-footer__sep { color: var(--c-border); }

.fs-footer__legal {
  font-size: 11.5px;
  color: var(--c-text-3);
  line-height: 1.85;
}
.fs-footer__legal p {
  margin: 0 0 3px;
  padding-right: 12px;
  position: relative;
}
.fs-footer__legal p::before {
  content: '•';
  position: absolute;
  right: 0;
  color: var(--c-text-4);
}
.fs-footer__legal p:last-child { margin-bottom: 0; }

.fs-footer__copy {
  margin-top: 12px;
  font-size: 11px;
  color: var(--c-text-4);
}


/* ══════════════════════════════════════════════════════
   RESPONSIVE
   ══════════════════════════════════════════════════════ */
@media (max-width: 768px) {
  .fs { padding: 16px 12px; }

  .fs-header__row { flex-direction: column; padding: 20px; }
  .fs-header__meta-row { flex-wrap: wrap; padding: 0 20px 12px; }

  .fs-cards__grid { grid-template-columns: 1fr; }
  .fs-info { grid-template-columns: 1fr; }

  .fs-table-wrap { overflow-x: auto; }
  .fs-table { min-width: 580px; }

  .fs-table-summary { flex-direction: column; align-items: flex-end; gap: 12px; }
  .fs-table-summary__item--final { padding-right: 0; border-right: none; padding-top: 12px; border-top: 1px solid var(--c-border); }

  .fs-verify { flex-direction: column-reverse; align-items: center; text-align: center; }
  .fs-verify__code-block { align-items: center; }
  .fs-verify__link-block { align-items: center; }
}


/* ══════════════════════════════════════════════════════
   PRINT STYLES
   ══════════════════════════════════════════════════════ */
@media print {
  /* Hide everything except statement */
  body * { visibility: hidden; }

  .content-wrapper, .content-wrapper *,
  .fs, .fs * { visibility: visible; }

  .content-wrapper {
    position: absolute;
    left: 0; top: 0;
    width: 100%;
    padding: 0; margin: 0;
  }

  .content-header, .main-footer, .breadcrumb, .main-sidebar {
    display: none !important;
  }
  .content { padding: 0 !important; margin: 0 !important; }

  .fs {
    max-width: 100%;
    padding: 8px 0;
    background: #fff;
  }

  /* Keep colors */
  .fs-header,
  .fs-header__verify-strip,
  .fs-table__th,
  .fs-risk-badge,
  .fs-card::before,
  .fs-progress-card__fill,
  .fs-verify__stamp {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  .fs-header::before { display: none; }

  /* Remove interactive effects */
  .fs-card, .fs-section, .fs-progress-card, .fs-footer {
    box-shadow: none;
    border-color: #ccc;
  }
  .fs-table__row:hover .fs-table__td { background: transparent; }
  .fs-table__th { position: static; }

  /* Page breaks */
  .fs-cards, .fs-info { page-break-inside: avoid; }
  .fs-section { page-break-inside: avoid; }
  .fs-table__row { page-break-inside: avoid; }
  .fs-table { page-break-inside: auto; }

  .fs-progress-card__fill::after { display: none; }
}


/* ══════════════════════════════════════════════════════
   VERIFY PAGE (verify-statement.php) — keep compat
   ══════════════════════════════════════════════════════ */
.jadal-verify {
  max-width: 420px;
  font-family: 'IBM Plex Sans Arabic', 'Segoe UI', Tahoma, sans-serif;
  direction: rtl;
}
.jadal-verify__box {
  text-align: center;
  padding: 32px 24px;
  border-radius: 16px;
  border: 2px solid #e4e5e7;
  background: #fff;
}
.jadal-verify__title { font-size: 18px; color: #7A000C; margin: 0 0 20px; }
.jadal-verify__label { font-size: 22px; font-weight: 700; margin: 0 0 12px; }
.jadal-verify__message { font-size: 14px; color: #525866; line-height: 1.7; margin: 0 0 12px; }
.jadal-verify__meta { font-size: 13px; color: #868c98; margin: 0; }

.jadal-verify--valid   .jadal-verify__box { border-color: #0F7B3D; background: #eefbf3; }
.jadal-verify--valid   .jadal-verify__label { color: #0F7B3D; }
.jadal-verify--expired .jadal-verify__box { border-color: #d97706; background: #fffbeb; }
.jadal-verify--expired .jadal-verify__label { color: #b8860b; }
.jadal-verify--invalid .jadal-verify__box { border-color: #B42318; background: #fef3f2; }
.jadal-verify--invalid .jadal-verify__label { color: #B42318; }
